<!DOCTYPE html>
<html>

<head>
  <title>Christmas</title>
  <link rel="stylesheet" href="styles.css" />
  <script type="module" src="script.js"></script>
  <script src="https://kit.fontawesome.com/300b342108.js" crossorigin="anonymous"></script>
</head>
<nav>
  <h2>Christmas Favorites</h2>
  <div class="dropdown">
    <button class="dropdown-button">
      <i class="fa-solid fa-bars fa-xl" style="color: #e2e2e2;"></i>
    </button>
    <div class="dropdown-content">
      <a style="background-color: white;" href="/" aria-current="page">Home</a>
      <a style="background-color: white;" href="/page2.html">Halloween</a>
      <a style="background-color: white;" href="Christmas.html">Christmas</a>
      <a style="background-color: white;" href="Fillpage.html"> Feedback</a>
    </div>
  </div>
</nav>

<body>
</body>
<!-- <div>
  <select id="Movies" onchange="makeTable()"></select>
</div>

<script>
  const  MovieNames = ["all","Movie", "Rating", "Duration"];
  const select = document.getElementById("Movies");
  MovieNames.forEach((type) => {
    option = document.createElement("option");
    option.value= type;
    option.text = type;
    select.appendChild(option);
  })
</script> -->
<form class="form">
  <label for="services"> Select a rating:</label>
  <select name="Rating" id="ratingselector" onchange="makeTable()">
    <option value="ALL">ALL</option>
    <option value="PG">PG</option>
    <option value="PG-13">PG-13</option>
    <option value="R">R</option>
  </select>


  <script>
    const myArr = [1, 2, 3, 4]
    myArr.forEach((i) => {
      console.log(i) // will print out values one by one
    })
  </script>
  <table id="table">
    <thead>
      <tr>
        <td><b>Movie</b></td>
        <td><b>Rating</b></td>
        <td><b>duration</b></td>
      </tr>
    </thead>
    <tbody>
      <!-- <tr>
      <td>Grinch</td>
      <td>PG</td>
      <td>1h 45m</td>
    </tr> -->
    </tbody>
  </table>

  <script>
    const Movies = [
      {
        Movie: "Grinch",
        Rating: "PG",
        Duration: "1h 45m",
      }, {
        Movie: "ELF",
        Rating: "PG",
        Duration: "1h 30m",
      }, {
        Movie: "Krampus",
        Rating: "PG-13",
        Duration: "1h 38m"
      }
    ];
    console.log(Movies);

    const writeTableRow = (table, Movies) => {
      const newRow = table.insertRow();

      newRow.innerHTML = `<tr id=${Movies.name}>
      <td>${Movies.Movie}</td>
      <td>${Movies.Rating}</td>
      <td>${Movies.Duration}</td>
      </tr>`;
    }
    const select= document.getElementById("ratingselector")
    const makeTable = () => {
      const tableBody = document.getElementsByTagName("tbody")[0];
      tableBody.innerHTML = "";
      if (select.value == "ALL") {
        Movies.forEach((r) => writeTableRow(tableBody, r));
      } else {
        const filtered = Movies.filter((r) => select.value == r.Rating)
        filtered.forEach((r) => writeTableRow(tableBody, r))
        console.log(filtered);
      }
    
    }
    makeTable()


  </script>


</html>